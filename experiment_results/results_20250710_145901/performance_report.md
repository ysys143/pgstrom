# PG-Strom GPU 가속 성능 분석 보고서

**작성자**: 신재솔  
**작성일**: 2025-07-10 15:09:59  
**실험 환경**: NVIDIA GeForce RTX 3060

## 1. 실험 개요

본 실험은 PG-Strom을 사용한 PostgreSQL GPU 가속 성능을 분석하기 위해 수행되었습니다.

### 실험 방법론
- 매 실행 전 PostgreSQL shared_buffers 및 OS 페이지 캐시 클리어
- 통계적 신뢰성을 위한 다중 반복 실행
- 평균, 표준편차, 분산, 변동계수 산출

### 실험 환경
- GPU: NVIDIA GeForce RTX 3060
- GPU 메모리: 795MB
- 실험 일시: 2025-07-10 15:09:59

## 2. 실험 결과

### 성능 비교 결과 (반복 실행 평균)

| 테스트 케이스 | GPU 활성화 (ms) | GPU 비활성화 (ms) | 성능 향상 | 우수한 방식 |
|---------------|----------------|------------------|-----------|------------|
| Simple Scan | 2389.2±76.7 | 2752.2±17.8 | 13.2% | GPU |
| Subset Join | 2564.0±66.8 | 3319.0±8.2 | 22.7% | GPU |
| Large Join | 2174.7±44.8 | 2512.9±8.3 | 13.5% | GPU |
| Simple Math | 3339.9±75.2 | 4044.5±10.9 | 17.4% | GPU |
| Complex Math | 4758.5±247.6 | 4141.8±48.7 | -14.9% | CPU |
| Simple Ops | 3333.1±68.8 | 3928.0±43.2 | 15.1% | GPU |

### 상세 통계 정보


#### Simple Scan
- **GPU 활성화**: 평균 2389.2ms
  - 표준편차: 76.7ms, 분산: 5882.4ms²
  - 변동계수: 3.2%
  - 최소: 2351.1ms, 최대: 2591.2ms
- **GPU 비활성화**: 평균 2752.2ms
  - 표준편차: 17.8ms, 분산: 317.5ms²
  - 변동계수: 0.6%
  - 최소: 2731.9ms, 최대: 2784.1ms
- **반복 횟수**: 8회

#### Subset Join
- **GPU 활성화**: 평균 2564.0ms
  - 표준편차: 66.8ms, 분산: 4465.3ms²
  - 변동계수: 2.6%
  - 최소: 2508.8ms, 최대: 2735.2ms
- **GPU 비활성화**: 평균 3319.0ms
  - 표준편차: 8.2ms, 분산: 67.8ms²
  - 변동계수: 0.2%
  - 최소: 3306.7ms, 최대: 3329.6ms
- **반복 횟수**: 8회

#### Large Join
- **GPU 활성화**: 평균 2174.7ms
  - 표준편차: 44.8ms, 분산: 2007.4ms²
  - 변동계수: 2.1%
  - 최소: 2127.1ms, 최대: 2269.9ms
- **GPU 비활성화**: 평균 2512.9ms
  - 표준편차: 8.3ms, 분산: 68.3ms²
  - 변동계수: 0.3%
  - 최소: 2502.5ms, 최대: 2527.5ms
- **반복 횟수**: 8회

#### Simple Math
- **GPU 활성화**: 평균 3339.9ms
  - 표준편차: 75.2ms, 분산: 5659.4ms²
  - 변동계수: 2.3%
  - 최소: 3278.1ms, 최대: 3532.6ms
- **GPU 비활성화**: 평균 4044.5ms
  - 표준편차: 10.9ms, 분산: 118.7ms²
  - 변동계수: 0.3%
  - 최소: 4025.1ms, 최대: 4059.5ms
- **반복 횟수**: 8회

#### Complex Math
- **GPU 활성화**: 평균 4758.5ms
  - 표준편차: 247.6ms, 분산: 61323.5ms²
  - 변동계수: 5.2%
  - 최소: 4121.1ms, 최대: 4991.0ms
- **GPU 비활성화**: 평균 4141.8ms
  - 표준편차: 48.7ms, 분산: 2375.0ms²
  - 변동계수: 1.2%
  - 최소: 4093.4ms, 최대: 4265.1ms
- **반복 횟수**: 8회

#### Simple Ops
- **GPU 활성화**: 평균 3333.1ms
  - 표준편차: 68.8ms, 분산: 4735.2ms²
  - 변동계수: 2.1%
  - 최소: 3278.8ms, 최대: 3511.2ms
- **GPU 비활성화**: 평균 3928.0ms
  - 표준편차: 43.2ms, 분산: 1869.8ms²
  - 변동계수: 1.1%
  - 최소: 3896.7ms, 최대: 4038.3ms
- **반복 횟수**: 8회

## 3. 상세 분석

### GPU 활용도 분석
- **Subset Join**: GPU 처리량 25,000,000건 (활용됨)
- **Simple Scan**: GPU 처리량 25,000,000건 (활용됨)
- **Simple Math**: GPU 처리량 50,000,000건 (활용됨)
- **Large Join**: GPU 처리량 10,000,000건 (활용됨)
- **Complex Math**: GPU 처리량 50,000,000건 (활용됨)
- **Simple Ops**: GPU 처리량 50,000,000건 (활용됨)

## 4. 결론 및 권장사항

### 주요 발견사항
- 총 6개 테스트 중 GPU가 5개, CPU가 1개 테스트에서 우수한 성능을 보였습니다.
- GPU 가속이 가장 효과적인 테스트: Subset Join (22.7% 향상)

### 권장사항
- 단순 조인 작업의 경우 CPU가 더 효율적일 수 있습니다.
- 실제 워크로드에 따라 GPU 활성화 여부를 결정하는 것이 중요합니다.

## 5. 기술적 세부사항

### 실험 설정
- 테스트 데이터: 최대 5,000만 행
- 측정 방법: PostgreSQL EXPLAIN ANALYZE
- 반복 횟수: 각 테스트 GPU ON/OFF 각 1회

### 측정 지표
- 실행 시간 (ms)
- GPU 처리량 (exec count)
- 메모리 사용량

---
*이 보고서는 PG-Strom 자동화 시스템에 의해 생성되었습니다.*
