# PG-Strom GPU 가속 성능 분석 보고서

**작성자**: 신재솔  
**작성일**: 2025-07-17 11:52:03  
**실험 환경**: NVIDIA L40S x3 (CUDA 12.9)

## 1. 실험 개요

본 실험은 PG-Strom을 사용한 PostgreSQL GPU 가속 성능을 분석하기 위해 수행되었습니다.

### 실험 방법론
- 매 실행 전 PostgreSQL shared_buffers 및 OS 페이지 캐시 클리어
- 통계적 신뢰성을 위한 다중 반복 실행
- 평균, 표준편차, 분산, 변동계수 산출

### 실험 환경
- GPU: NVIDIA L40S x3
- GPU 메모리: 1487MB (per GPU)
- CUDA 버전: 12.9
- 실험 일시: 2025-07-17 11:52:03

## 2. 실험 결과

### 성능 비교 결과 (반복 실행 평균)

| 테스트 케이스 | GPU 활성화 (ms) | GPU 비활성화 (ms) | 성능 향상 | 우수한 방식 |
|---------------|----------------|------------------|-----------|------------|
| Simple Scan | 251.8±120.6 | 673.9±4.5 | 62.6% | GPU |
| Subset Join | 246.0±5.9 | 2350.1±30.7 | 89.5% | GPU |
| Large Join | 1262.4±107.3 | 2907.6±48.4 | 56.6% | GPU |
| Simple Math | 182.6±60.8 | 1459.0±2.7 | 87.5% | GPU |
| Complex Math | 1506.3±84.7 | 1771.3±9.5 | 15.0% | GPU |
| Simple Ops | 160.1±2.3 | 1242.5±6.0 | 87.1% | GPU |

### 상세 통계 정보


#### Simple Scan
- **GPU 활성화**: 평균 251.8ms
  - 표준편차: 120.6ms, 분산: 14541.1ms²
  - 변동계수: 47.9%
  - 최소: 131.4ms, 최대: 530.2ms
- **GPU 비활성화**: 평균 673.9ms
  - 표준편차: 4.5ms, 분산: 20.1ms²
  - 변동계수: 0.7%
  - 최소: 670.6ms, 최대: 685.4ms
- **반복 횟수**: 8회

#### Subset Join
- **GPU 활성화**: 평균 246.0ms
  - 표준편차: 5.9ms, 분산: 35.1ms²
  - 변동계수: 2.4%
  - 최소: 237.3ms, 최대: 258.0ms
- **GPU 비활성화**: 평균 2350.1ms
  - 표준편차: 30.7ms, 분산: 941.8ms²
  - 변동계수: 1.3%
  - 최소: 2313.5ms, 최대: 2400.8ms
- **반복 횟수**: 8회

#### Large Join
- **GPU 활성화**: 평균 1262.4ms
  - 표준편차: 107.3ms, 분산: 11507.8ms²
  - 변동계수: 8.5%
  - 최소: 1184.5ms, 최대: 1541.4ms
- **GPU 비활성화**: 평균 2907.6ms
  - 표준편차: 48.4ms, 분산: 2342.6ms²
  - 변동계수: 1.7%
  - 최소: 2846.4ms, 최대: 2999.8ms
- **반복 횟수**: 8회

#### Simple Math
- **GPU 활성화**: 평균 182.6ms
  - 표준편차: 60.8ms, 분산: 3702.1ms²
  - 변동계수: 33.3%
  - 최소: 152.9ms, 최대: 343.3ms
- **GPU 비활성화**: 평균 1459.0ms
  - 표준편차: 2.7ms, 분산: 7.0ms²
  - 변동계수: 0.2%
  - 최소: 1453.6ms, 최대: 1462.6ms
- **반복 횟수**: 8회

#### Complex Math
- **GPU 활성화**: 평균 1506.3ms
  - 표준편차: 84.7ms, 분산: 7182.3ms²
  - 변동계수: 5.6%
  - 최소: 1392.4ms, 최대: 1620.2ms
- **GPU 비활성화**: 평균 1771.3ms
  - 표준편차: 9.5ms, 분산: 90.0ms²
  - 변동계수: 0.5%
  - 최소: 1760.8ms, 최대: 1785.0ms
- **반복 횟수**: 8회

#### Simple Ops
- **GPU 활성화**: 평균 160.1ms
  - 표준편차: 2.3ms, 분산: 5.3ms²
  - 변동계수: 1.4%
  - 최소: 156.2ms, 최대: 163.0ms
- **GPU 비활성화**: 평균 1242.5ms
  - 표준편차: 6.0ms, 분산: 35.9ms²
  - 변동계수: 0.5%
  - 최소: 1233.1ms, 최대: 1248.6ms
- **반복 횟수**: 8회

## 3. 상세 분석

### GPU 활용도 분석
- **Simple Scan**: GPU 처리량 25,000,000건 (활용됨)
- **Subset Join**: GPU 처리량 25,000,000건 (활용됨)
- **Large Join**: GPU 처리량 10,000,000건 (활용됨)
- **Simple Math**: GPU 처리량 50,000,000건 (활용됨)
- **Complex Math**: GPU 처리량 50,000,000건 (활용됨)
- **Simple Ops**: GPU 처리량 50,000,000건 (활용됨)

## 4. 결론 및 권장사항

### 주요 발견사항
- 총 6개 테스트 중 GPU가 6개, CPU가 0개 테스트에서 우수한 성능을 보였습니다.
- GPU 가속이 가장 효과적인 테스트: Subset Join (89.5% 향상)

### 권장사항
- 단순 조인 작업의 경우 CPU가 더 효율적일 수 있습니다.
- 실제 워크로드에 따라 GPU 활성화 여부를 결정하는 것이 중요합니다.

## 5. 기술적 세부사항

### 실험 설정
- 테스트 데이터: 최대 5,000만 행
- 측정 방법: PostgreSQL EXPLAIN ANALYZE
- 반복 횟수: 각 테스트 GPU ON/OFF 각 1회

### 측정 지표
- 실행 시간 (ms)
- GPU 처리량 (exec count)
- 메모리 사용량

---
*이 보고서는 PG-Strom 자동화 시스템에 의해 생성되었습니다.*
